<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="OS" language="groovy" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="0d696a66-fc0d-406e-92c6-1fcaa2c55348">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="id" class="java.lang.Long">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[Select od.id ordem_id
     , oi.quantidade_itens
     , od.motorista
     , od.data_saida
     , od.placa
     , od.veiculo
     , oi.item_id id
     , it.nome nome
     , em.endereco||', '||em.numero|| ' - '||em.complemento endereco
     , em.bairro
  from ordem od
  join ordem_item oi on oi.ordem_id = od.id
  join empresa em on em.id = od.cliente_id
  join item  it on it.id = oi.item_id
 where od.id = $P{id}
 union all
Select od.id ordem_id
     , oi.quantidade_itens
     , od.motorista
     , od.data_saida
     , od.placa
     , od.veiculo
     , oi.grupo_id id
     , gp.descricao nome
     , em.endereco||', '||em.numero|| ' - '||em.complemento endereco
     , em.bairro
  from ordem od
  join ordem_item oi on oi.ordem_id = od.id
  join empresa em on em.id = od.cliente_id
  join grupo gp on gp.id = oi.grupo_id
 where od.id = $P{id}]]>
	</queryString>
	<field name="ordem_id" class="java.lang.Long"/>
	<field name="quantidade_itens" class="java.lang.Long"/>
	<field name="motorista" class="java.lang.String"/>
	<field name="data_saida" class="java.sql.Timestamp"/>
	<field name="placa" class="java.lang.String"/>
	<field name="veiculo" class="java.lang.String"/>
	<field name="id" class="java.lang.Long"/>
	<field name="nome" class="java.lang.String"/>
	<field name="endereco" class="java.lang.String"/>
	<field name="bairro" class="java.lang.String"/>
	<group name="Group2">
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<group name="Group3">
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<group name="Group4">
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<background>
		<band/>
	</background>
	<title>
		<band height="72">
			<frame>
				<reportElement mode="Opaque" x="-20" y="-20" width="595" height="92" backcolor="#006699" uuid="903e2722-60f7-4afb-8dd5-41d386b8cf99"/>
				<staticText>
					<reportElement x="20" y="20" width="336" height="43" forecolor="#FFFFFF" uuid="4998ce47-e519-4a5e-993c-c2cc3fee2309"/>
					<textElement>
						<font size="34" isBold="true"/>
					</textElement>
					<text><![CDATA[Ordem Serviço]]></text>
				</staticText>
			</frame>
		</band>
	</title>
	<pageHeader>
		<band height="164">
			<rectangle>
				<reportElement x="0" y="8" width="555" height="20" uuid="f76cb602-125f-4589-ba5a-52160f772833"/>
			</rectangle>
			<textField>
				<reportElement x="68" y="33" width="487" height="20" uuid="61f06541-8c1f-442d-9d7c-22c123f30c45"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{nome}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="17" y="60" width="51" height="20" uuid="f1a8cbc8-f98f-4604-8a8e-60b23efe047a"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Endereço:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="68" y="60" width="268" height="20" uuid="de2e8c95-0f33-451a-b14d-600a2fe903b2"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{endereco}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="393" y="60" width="145" height="20" uuid="8785bc83-25d2-4876-8d1e-e72ce1dc3dc9"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{bairro}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="355" y="60" width="38" height="20" uuid="a170e7ed-53c8-43e9-9d27-436d8b16bfb6"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Bairro:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="8" width="100" height="20" uuid="8eaf1272-4cc7-4372-b806-7bbf26d93293"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Dados do Cliente]]></text>
			</staticText>
			<staticText>
				<reportElement x="183" y="8" width="38" height="20" uuid="e319ee12-f01b-4a8c-ae31-6ab0484f23f0"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[OS:]]></text>
			</staticText>
			<textField>
				<reportElement x="221" y="8" width="100" height="20" uuid="19fdaf81-97ec-405b-a01c-85abb378c125"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{id}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="455" y="8" width="100" height="20" uuid="7add4772-4fab-44a4-b92c-b3493cfd1978"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{data_saida}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="424" y="8" width="31" height="20" uuid="f5aaf23d-2734-4366-a89b-3dc87eb89e19"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Data:]]></text>
			</staticText>
			<staticText>
				<reportElement x="34" y="33" width="34" height="20" uuid="e20bca78-a184-4074-949f-09e0ac583960"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Nome:]]></text>
			</staticText>
			<rectangle>
				<reportElement x="0" y="88" width="555" height="20" uuid="f04faab2-39a5-492a-81d3-ae8ed024365e"/>
			</rectangle>
			<staticText>
				<reportElement x="0" y="88" width="157" height="20" uuid="330c72bd-c8b7-4785-a8a4-8e2129570f65"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Dados do Veículo ]]></text>
			</staticText>
			<staticText>
				<reportElement x="355" y="114" width="38" height="20" uuid="4b0fa998-1513-48d8-84fe-fd0706e37833"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Placa:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="68" y="114" width="268" height="20" uuid="7c5151ee-329d-4219-95b8-70d0df104e4c"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{veiculo}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="17" y="114" width="51" height="20" uuid="c80868a3-6849-4de8-84db-7917136c9881"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Veículo:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="393" y="114" width="100" height="20" uuid="e935c7af-1f3e-44bc-9b3b-66e07bc73856"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{placa}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="83" y="144" width="268" height="20" uuid="6d379e03-ba95-4d12-b385-e057ddaa7415"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{motorista}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="15" y="144" width="68" height="20" uuid="a5d68604-1208-40d9-8a9c-b56e7f43b6cc"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Motorista:]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="47">
			<rectangle>
				<reportElement x="0" y="0" width="555" height="20" uuid="275c5cf6-5d3e-49e8-9715-3f2a672882f9"/>
			</rectangle>
			<staticText>
				<reportElement x="0" y="1" width="100" height="20" uuid="7742e602-5ab6-4654-89c5-ed78e94489bd"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Itens da OS]]></text>
			</staticText>
			<rectangle>
				<reportElement x="83" y="27" width="100" height="20" uuid="3ae8e78b-3bb9-4a49-bd14-6cb59b504bcb"/>
			</rectangle>
			<staticText>
				<reportElement x="83" y="27" width="100" height="20" uuid="548618fd-4731-4671-8801-a62589f0eee4"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Código]]></text>
			</staticText>
			<rectangle>
				<reportElement x="183" y="27" width="187" height="20" uuid="b43dda4a-cf01-47b6-8eb2-be85872f2812"/>
			</rectangle>
			<staticText>
				<reportElement x="228" y="27" width="100" height="20" uuid="d7ac8388-ec97-4d26-8d23-cf9876eeef06"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Descrição]]></text>
			</staticText>
			<rectangle>
				<reportElement x="370" y="27" width="85" height="20" uuid="8fae2c69-e877-4f8e-bcfa-442eca028b71"/>
			</rectangle>
			<staticText>
				<reportElement x="370" y="27" width="85" height="20" uuid="6c853cd2-244c-45da-8073-9d8665e2f9c6"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Quantidade]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20">
			<rectangle>
				<reportElement x="368" y="0" width="87" height="20" uuid="5a9cf8a6-d077-4444-8c98-e9cacf13a065"/>
			</rectangle>
			<rectangle>
				<reportElement x="183" y="0" width="187" height="20" uuid="360aa8a8-8466-4d7d-9de8-8e58ec60ab5e"/>
			</rectangle>
			<rectangle>
				<reportElement x="83" y="0" width="100" height="20" uuid="27259094-70d8-4099-ade5-7c2b5ef49578"/>
			</rectangle>
			<textField>
				<reportElement x="83" y="0" width="100" height="20" uuid="374126c4-110d-4098-af2c-9553b50e8d0a"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{id}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="183" y="0" width="187" height="20" uuid="29631fc2-1842-4df8-b364-3df64a975892"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{nome}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="370" y="0" width="85" height="20" uuid="749a1187-9769-435d-a713-2b4c06b8ae48"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{quantidade_itens}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band/>
	</columnFooter>
	<pageFooter>
		<band height="17">
			<textField>
				<reportElement mode="Opaque" x="0" y="4" width="515" height="13" backcolor="#E6E6E6" uuid="2bf460cb-7e21-4082-9be8-b07b59e55316"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement mode="Opaque" x="515" y="4" width="40" height="13" backcolor="#E6E6E6" uuid="f77ec795-b29c-4265-8e70-fe8243d31f11"/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="EEEEE dd MMMMM yyyy">
				<reportElement x="0" y="4" width="100" height="13" uuid="57eece44-356b-49ac-9534-04afca3ea698"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band/>
	</summary>
</jasperReport>
